{
    // Important to disable for EditorConfig to apply correctly
    // See: https://github.com/editorconfig/editorconfig-vscode/issues/153
    "files.trimTrailingWhitespace": false,

    // JSON code formatting
    "json.format.keepLines": true,

    // Markdown table of contents generation
    "markdown.extension.toc.levels": "2..2",
    "markdown.extension.toc.slugifyMode": "github",

    // PowerShell code formatting
    "powershell.codeFormatting.addWhitespaceAroundPipe": true,
    "powershell.codeFormatting.alignPropertyValuePairs": true,
    "powershell.codeFormatting.autoCorrectAliases": true,
    "powershell.codeFormatting.avoidSemicolonsAsLineTerminators": true,
    "powershell.codeFormatting.ignoreOneLineBlock": true,
    "powershell.codeFormatting.newLineAfterCloseBrace": false, // Stylistic preference
    "powershell.codeFormatting.newLineAfterOpenBrace": true,
    "powershell.codeFormatting.openBraceOnSameLine": true,
    "powershell.codeFormatting.pipelineIndentationStyle": "IncreaseIndentationForFirstPipeline",
    "powershell.codeFormatting.trimWhitespaceAroundPipe": true,
    "powershell.codeFormatting.useConstantStrings": true,
    "powershell.codeFormatting.useCorrectCasing": false, // Extremely opinionated and often wrong
    "powershell.codeFormatting.whitespaceAfterSeparator": true,
    "powershell.codeFormatting.whitespaceAroundOperator": true,
    "powershell.codeFormatting.whitespaceBeforeOpenBrace": true,
    "powershell.codeFormatting.whitespaceBeforeOpenParen": true,
    "powershell.codeFormatting.whitespaceBetweenParameters": true,
    "powershell.codeFormatting.whitespaceInsideBrace": true,

    // PowerShell script analysis
    "powershell.scriptAnalysis.settingsPath": "PSScriptAnalyzerSettings.psd1",

    // XML code formatting
    "xml.format.maxLineWidth": 0,

    "[json][jsonc]": {
        "editor.rulers": [79],

        "editor.defaultFormatter": "vscode.json-language-features"
    },

    "[markdown]": {
        "editor.defaultFormatter": "yzhang.markdown-all-in-one",
        "editor.formatOnSave": true,

        "editor.codeActionsOnSave": {
            "source.fixAll.markdownlint": "explicit"
        },

        // Trailing whitespace has special meaning
        "files.trimTrailingWhitespace": false
    },

    "[powershell]": {
        "editor.rulers": [79],

        "editor.defaultFormatter": "ms-vscode.powershell",
        "editor.formatOnSave": true
    },

    "[xml]": {
        "editor.rulers": [79],

        "editor.defaultFormatter": "redhat.vscode-xml"
    }
}
